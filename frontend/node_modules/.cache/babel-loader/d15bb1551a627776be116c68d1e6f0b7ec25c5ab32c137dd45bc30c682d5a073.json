{"ast":null,"code":"var _jsxFileName = \"/Users/mauriciosilva/Desktop/SPRINGBOARD/Simply_Buy/frontend/src/Forms/Register.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport UserConext from '../App';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction RegistrationForm({\n  register\n}) {\n  _s();\n  const INITIAL_STATE = {\n    first_name: '',\n    last_name: '',\n    username: '',\n    password: ''\n  };\n  const user = useContext(UserConext);\n  const [formData, setFormData] = useState(INITIAL_STATE);\n  const [errors, setErrors] = useState([]);\n  function handleChange(evt) {\n    const {\n      name,\n      value\n    } = evt.target;\n    setFormData(data => ({\n      ...data,\n      [name]: value\n    }));\n  }\n  async function handleSubmit(evt) {\n    evt.preventDefault();\n    const result = await register(formData);\n    if (result.success !== true) {\n      console.log(result);\n      setErrors([result.error]);\n      setFormData(INITIAL_STATE);\n      return;\n    }\n    ;\n    sessionStorage.setItem(\"user_id\", result.result.user.user_id);\n    setFormData(INITIAL_STATE);\n    return result;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Register here!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), errors.length ? errors.map(e => /*#__PURE__*/_jsxDEV(\"p\", {\n      children: e\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 46\n    }, this)) : null, /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"first_name\",\n        children: \"First Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"first_name\",\n        type: \"text\",\n        value: formData.first_name,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"last_name\",\n        children: \"Last Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"last_name\",\n        type: \"text\",\n        value: formData.last_name,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"username\",\n        children: \"Username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"username\",\n        type: \"text\",\n        value: formData.username,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password\",\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"password\",\n        type: \"password\",\n        value: formData.password,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n}\n_s(RegistrationForm, \"t0NxPkqqiJ4Y9rUQQH05Un2WJbs=\");\n_c = RegistrationForm;\nexport default RegistrationForm;\nvar _c;\n$RefreshReg$(_c, \"RegistrationForm\");","map":{"version":3,"names":["React","useState","useContext","useNavigate","UserConext","jsxDEV","_jsxDEV","RegistrationForm","register","_s","INITIAL_STATE","first_name","last_name","username","password","user","formData","setFormData","errors","setErrors","handleChange","evt","name","value","target","data","handleSubmit","preventDefault","result","success","console","log","error","sessionStorage","setItem","user_id","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","e","onSubmit","htmlFor","type","onChange","_c","$RefreshReg$"],"sources":["/Users/mauriciosilva/Desktop/SPRINGBOARD/Simply_Buy/frontend/src/Forms/Register.js"],"sourcesContent":["import React, {useState, useContext} from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport UserConext from '../App'\n\nfunction RegistrationForm({register}){\n    const INITIAL_STATE = {\n        first_name: '',\n        last_name: '',\n        username: '',\n        password: ''\n    }\n    const user = useContext(UserConext)\n    const [formData, setFormData] = useState(INITIAL_STATE);\n    const [errors, setErrors] = useState([])\n\n    function handleChange(evt){\n        const {name,value} = evt.target;\n        setFormData(data =>({...data, [name]: value}\n    ))}\n\n\n    async function handleSubmit(evt){\n        evt.preventDefault();\n        const result = await register(formData);\n\n        if(result.success !== true){\n            console.log(result)\n                setErrors([result.error])\n                setFormData(INITIAL_STATE)\n                return;\n            };\n        sessionStorage.setItem(\"user_id\", result.result.user.user_id)    \n        setFormData(INITIAL_STATE)\n        return result;\n    }\n\n    \n    return(\n        <div>\n            <h1>Register here!</h1>\n            {errors.length ? errors.map(e => <p>{e}</p>) : null}\n            <form onSubmit={handleSubmit}>\n                <label htmlFor=\"first_name\">First Name</label>\n                <input name=\"first_name\" type=\"text\" value={formData.first_name} onChange={handleChange}/>\n\n                <label htmlFor=\"last_name\">Last Name</label>\n                <input name=\"last_name\" type=\"text\" value={formData.last_name} onChange={handleChange}/>\n\n                <label htmlFor=\"username\">Username</label>\n                <input name=\"username\" type=\"text\" value={formData.username} onChange={handleChange}></input>\n\n                <label htmlFor=\"password\">Password</label>\n                <input name=\"password\" type=\"password\" value={formData.password} onChange={handleChange}></input>\n\n          <button type=\"submit\">submit</button>\n            </form>\n        </div>\n    )\n}\n\nexport default RegistrationForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}