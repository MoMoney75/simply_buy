{"ast":null,"code":"var _jsxFileName = \"/Users/mauriciosilva/Desktop/SPRINGBOARD/Simply_Buy/frontend/src/Forms/Login.js\",\n  _s = $RefreshSig$();\nimport { React, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login({\n  login\n}) {\n  _s();\n  const navigate = useNavigate();\n  const INITIAL_STATE = {\n    username: '',\n    password: ''\n  };\n  const [formData, setFormData] = useState(INITIAL_STATE);\n  const [errors, setErrors] = useState([]);\n  function handleChange(evt) {\n    const {\n      name,\n      value\n    } = evt.target;\n    setFormData(data => ({\n      ...data,\n      [name]: value\n    }));\n  }\n  async function handleSubmit(evt) {\n    evt.preventDefault();\n    const result = await login(formData);\n    if (result.success !== true) {\n      console.log(\"Result in error:\", result);\n      setErrors([result.error]);\n      setFormData(INITIAL_STATE);\n      return;\n    }\n    setErrors([]);\n    sessionStorage.setItem('user_id', result.result.user.user_id);\n    setFormData(INITIAL_STATE);\n    return result;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [errors.length > 0 && errors.map(e => /*#__PURE__*/_jsxDEV(\"p\", {\n      children: e\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 51\n    }, this)), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"username\",\n        children: \"username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"username\",\n        value: formData.username,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password\",\n        children: \"password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        value: formData.password,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n}\n_s(Login, \"GkM51PpDL/1+gdN1aA7OqWyKbFo=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useNavigate","jsxDEV","_jsxDEV","Login","login","_s","navigate","INITIAL_STATE","username","password","formData","setFormData","errors","setErrors","handleChange","evt","name","value","target","data","handleSubmit","preventDefault","result","success","console","log","error","sessionStorage","setItem","user","user_id","children","length","map","e","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","onChange","_c","$RefreshReg$"],"sources":["/Users/mauriciosilva/Desktop/SPRINGBOARD/Simply_Buy/frontend/src/Forms/Login.js"],"sourcesContent":["import {React, useState} from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nfunction Login({login}){\n    const navigate = useNavigate();\n    const INITIAL_STATE = {\n        username: '',\n        password: ''\n    }\n\n    const [formData,setFormData] = useState(INITIAL_STATE)\n    const [errors,setErrors] = useState([])\n\n    function handleChange(evt){\n        const {name, value} = evt.target;\n        setFormData(data => ({...data, [name]: value}))\n    }\n    async function handleSubmit(evt){\n        evt.preventDefault();\n        const result = await login(formData);\n        \n        if(result.success !== true){\n            console.log(\"Result in error:\", result)\n            setErrors([result.error])\n            setFormData(INITIAL_STATE)\n            return;\n        }\n        setErrors([])\n        sessionStorage.setItem('user_id', result.result.user.user_id)\n\n        setFormData(INITIAL_STATE);\n        return result;\n    }\n    return(\n        <div>\n            {errors.length > 0 && errors.map(e => <p>{e}</p>)}\n            <form onSubmit={handleSubmit}>\n                <label htmlFor=\"username\">username</label>\n                <input type=\"text\" name=\"username\" value={formData.username}  onChange={handleChange}/>\n\n                <label htmlFor=\"password\">password</label>\n                <input type=\"password\" name=\"password\" value={formData.password}  onChange={handleChange}/>\n\n                <button type=\"submit\">login</button>\n            </form>\n        </div>\n    )\n}\n\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}